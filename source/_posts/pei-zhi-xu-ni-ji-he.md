---
title: VirtualBox 配置虚拟机 Host-only 和 Nat
date: 2023-02-18 16:37:00
---


需求:
1. 需要虚拟机能够访问公网
2. 需要虚拟机能够被主机使用（使用基本的IP进行连接）

软件： VirtualBox 7.0

系统： Win7 ，Debian 11
![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218162801613-1288784890.png)

前提：
创建Nat网络，创建Host-only网络
![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218163008014-2007988014.png)
![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218163023990-92771095.png)


原理：
为每个虚拟机添加两个网卡

网卡1: 设置Nat网络
![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218162906976-143312216.png)

网卡2：设置Host-only(就是刚刚添加的host-only)
![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218162921519-623138748.png)

使用：
Win7的话会网卡是自动添加的以太网的，就当于插两个网卡就访问不同的网络
![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218163217489-1099131963.png)



Debian需要配置，在网络里面将另一个以太网添加进去就行，Ubuntu好像会自动添加，如果不能用Host-only或者Nat，就是需要添加以太网就行
![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218163321484-2022965152.png)

**总之就是你配好了，后没网，可能是没连接。建议写个自动脚本进行配置，我目前不会写。**

![image](https://img2023.cnblogs.com/blog/2146100/202302/2146100-20230218163548893-1489429960.png)
